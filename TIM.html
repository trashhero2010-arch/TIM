<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>çˆ±å¿ƒå¡ç‰‡åŠ¨æ•ˆï¼ˆè¯»å–TXTï¼‰</title>
  <style>
    :root{ --card-w:120px; --card-h:56px; }
    html,body{
      height:100%;margin:0;
      font-family:system-ui, "PingFang SC", "Microsoft YaHei", sans-serif;
      background:linear-gradient(180deg,#fffaf6,#ffeef0);
    }
    .phone {
      width:420px;
      height:860px;
      max-width:100%;
      margin:24px auto;
      background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.6));
      border-radius:28px;
      box-shadow:0 12px 40px rgba(0,0,0,0.12);
      position:relative;
      overflow:hidden;
      border:1px solid rgba(0,0,0,0.04);
    }
    header{padding:12px 16px;text-align:center;}
    header h1{font-size:16px;margin:0;font-weight:600}
    .stage{position:absolute;left:0;right:0;top:60px;bottom:0;display:block;}
    .card{
      position:absolute;
      width:var(--card-w);
      height:var(--card-h);
      box-sizing:border-box;
      padding:8px 10px;
      border-radius:10px;
      background:linear-gradient(180deg,#ffffff,#fff6f8);
      box-shadow:0 6px 18px rgba(255,107,138,0.12), 0 2px 6px rgba(0,0,0,0.06);
      display:flex;align-items:center;justify-content:center;
      text-align:center;font-weight:600; font-size:13px; color:#333;
      transform-origin:center center; opacity:0;
      transition: all 0.8s ease;
    }
  </style>
</head>
<body>
  <div class="phone">
    <header>
      <h1>ğŸ’– çˆ±å¿ƒå¡ç‰‡åŠ¨æ•ˆ ğŸ’–</h1>
    </header>
    <div class="stage" id="stage">
      <div class="positions" id="positions"></div>
    </div>
  </div>

  <script>
    async function loadWords() {
      try {
        const res = await fetch('words.txt');
        const text = await res.text();
        const lines = text.split(/\r?\n/).map(l => l.trim()).filter(Boolean);
        createHeart(lines);
      } catch (err) {
        console.error('æ— æ³•è¯»å– words.txt:', err);
      }
    }

    function heartPoints(count, w, h, padding=40){
      const pts = [];
      const samples = Math.max(count*4, 300);
      const raw = [];
      for(let i=0;i<samples;i++){
        const t = (i/samples) * Math.PI * 2;
        const x = 16 * Math.pow(Math.sin(t),3);
        const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
        raw.push([x,y]);
      }
      let minx=Infinity,maxx=-Infinity,miny=Infinity,maxy=-Infinity;
      raw.forEach(([x,y])=>{if(x<minx)minx=x;if(x>maxx)maxx=x;if(y<miny)miny=y;if(y>maxy)maxy=y;});
      for(let i=0;i<count;i++){
        const idx = Math.floor(i * raw.length / count);
        const [x,y] = raw[idx];
        const nx = (x - minx) / (maxx - minx);
        const ny = (y - miny) / (maxy - miny);
        const px = padding + nx * (w - padding*2);
        const py = padding + (1-ny) * (h - padding*2);
        pts.push({x:px,y:py});
      }
      return pts;
    }

    function createHeart(lines){
      const stage = document.getElementById('stage');
      const positionsLayer = document.getElementById('positions');
      const w = stage.clientWidth;
      const h = stage.clientHeight;
      const pts = heartPoints(lines.length, w, h, 40);

      lines.forEach((txt, i)=>{
        const el = document.createElement('div');
        el.className = 'card';
        el.textContent = txt;
        positionsLayer.appendChild(el);
        const target = pts[i];
        el.style.left = target.x - 60 + 'px';
        el.style.top = target.y - 28 + 'px';
        setTimeout(()=>{
          el.style.opacity = 1;
          el.style.transform = 'scale(1) rotate(0deg)';
        }, i*150);
      });
    }

    window.addEventListener('load', loadWords);
  </script>
</body>
</html>
























