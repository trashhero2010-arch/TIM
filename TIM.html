<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ’– çˆ±å¿ƒå¡ç‰‡åŠ¨æ•ˆï¼ˆæ¨ªå±ç‰ˆï¼‰</title>
  <style>
    :root{ --card-w:90px; --card-h:42px; }
    html,body{
      height:100%;width:100%;
      margin:0;padding:0;
      background:linear-gradient(180deg,#fffaf6,#ffeef0);
      font-family:"Microsoft YaHei",sans-serif;
      overflow:hidden;
    }
    .stage{
      position:absolute;
      left:0;right:0;top:0;bottom:0;
      display:block;
      overflow:hidden;
    }
    .card{
      position:absolute;
      width:var(--card-w);
      height:var(--card-h);
      border-radius:10px;
      background:linear-gradient(180deg,#ffffff,#fff6f8);
      box-shadow:0 3px 10px rgba(255,107,138,0.1),0 1px 3px rgba(0,0,0,0.05);
      display:flex;align-items:center;justify-content:center;
      text-align:center;font-weight:600;font-size:12px;color:#444;
      transform-origin:center center;
      opacity:0;
      transition:all 1s ease;
    }
  </style>
</head>
<body>
  <div class="stage" id="stage"></div>

  <script>
    // è¯»å– words.txt
    async function loadWords(){
      try{
        const res = await fetch('words.txt');
        const text = await res.text();
        const lines = text.split(/\r?\n/).map(l=>l.trim()).filter(Boolean);
        createHeart(lines);
      }catch(e){ console.error('æ— æ³•è¯»å– words.txt', e); }
    }

    // è®¡ç®—çˆ±å¿ƒåæ ‡ï¼ˆæ¨ªå±é€‚é…ï¼‰
    function heartPoints(count, w, h, padding=180){
      const pts = [];
      const samples = Math.max(count*4, 400);
      const raw = [];
      const scale = 0.6; // æ§åˆ¶çˆ±å¿ƒå¤§å°
      for(let i=0;i<samples;i++){
        const t = (i/samples)*Math.PI*2;
        const x = 16*Math.pow(Math.sin(t),3)*scale;
        const y = (13*Math.cos(t)-5*Math.cos(2*t)
                  -2*Math.cos(3*t)-Math.cos(4*t))*scale;
        raw.push([x,y]);
      }
      let minx=Infinity,maxx=-Infinity,miny=Infinity,maxy=-Infinity;
      raw.forEach(([x,y])=>{
        if(x<minx)minx=x;if(x>maxx)maxx=x;
        if(y<miny)miny=y;if(y>maxy)maxy=y;
      });
      for(let i=0;i<count;i++){
        const idx=Math.floor(i*raw.length/count);
        const [x,y]=raw[idx];
        const nx=(x-minx)/(maxx-minx);
        const ny=(y-miny)/(maxy-miny);
        const px=padding+nx*(w-padding*2);
        const py=padding+(1-ny)*(h-padding*2);
        pts.push({x:px,y:py});
      }
      return pts;
    }

    // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
    function createHeart(lines){
      const stage=document.getElementById('stage');
      const w=stage.clientWidth;
      const h=stage.clientHeight;
      const pts=heartPoints(lines.length,w,h,160);

      let side='right';
      let counter=0;

      lines.forEach((txt,i)=>{
        const el=document.createElement('div');
        el.className='card';
        el.textContent=txt;
        stage.appendChild(el);

        if(side==='right') el.style.left=w+120+'px';
        else el.style.left=-120+'px';
        el.style.top=(Math.random()*h*0.5+h*0.25)+'px';
        el.style.opacity=0;
        el.style.transform='scale(0.8) rotate('+(Math.random()*40-20)+'deg)';

        const target=pts[i];
        setTimeout(()=>{
          el.style.left=target.x - 45 + 'px';
          el.style.top=target.y - 21 + 'px';
          el.style.opacity=1;
          el.style.transform='scale(1) rotate(0deg)';
        },i*200);

        counter++;
        if(counter>=3){side=side==='right'?'left':'right';counter=0;}
      });
    }

    window.addEventListener('load',loadWords);
  </script>
</body>
</html>





































